<!DOCTYPE html> <html lang="en" dir="ltr" itemtype="http://schema.org/WebPage" itemscope=""> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="HandheldFriendly" content="true"/> <title>Jak se vyrábí aplikace na chytré hodinky Pebble Time Round | Fragaria.cz</title> <meta name="author" content="Fragaria s.r.o."/> <meta name="robots" content="index,follow"/> <meta name="description" content="Když se v dubnu 2012 na Kickstarteru objevily hodinky Pebble s e-ink displayem, za měsíc získaly částku přesahující deset milionů dolarů. Na jaře 2013 jste si o ně s námi mohli zasoutěžit."> <meta name="keywords" content="software, software development, web apps, vývoj software, webové aplikace, python, javascript, typescript, java, angular, vue, elasticsearch, html, css, pebble, javascript, smartwatch, c"/> <meta property="og:url" content="https://fragaria.cz/blog/2016/01/22/jak-se-vyrabi-aplikace-na-chytre/"/> <meta property="og:type" content="website"/> <meta property="og:title" content="Jak se vyrábí aplikace na chytré hodinky Pebble Time Round | Fragaria.cz"/> <meta property="og:description" content="Když se v dubnu 2012 na Kickstarteru objevily hodinky Pebble s e-ink displayem, za měsíc získaly částku přesahující deset milionů dolarů. Na jaře 2013 jste si o ně s námi mohli zasoutěžit."/> <meta property="og:image" content="https://res.cloudinary.com/fragaria/image/upload/w_640,c_fit,f_jpg,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__1.gif"/> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"> <link rel="manifest" href="/assets/favicons/site.webmanifest"> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#ea272e"> <link rel="shortcut icon" href="/favicon.ico"> <meta name="msapplication-TileColor" content="#ea272e"> <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml"> <meta name="theme-color" content="#ea272e"> <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-9784905-1', 'auto');
    ga('send', 'pageview');
</script> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/AndulkaTextPro.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/AndulkaTextPro-Italic.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/TriviaGroteskN2-Bold.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="/assets/fonts/fragariacz-icons.ttf?3rxsze" as="font" type="font/ttf" crossorigin="anonymous"> <link rel="preload" href="/assets/js/site.js?6e2137191b6cdb94029cb72a903c511c" as="script"> <link rel="stylesheet" href="/assets/styles.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="alternate" type="application/atom+xml" href="/feed.xml" title="Blog | Fragaria.cz"/> <link rel="self" type="application/atom+xml" href="/feed.xml"/> <link rel="preload" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" as="style"> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"/> </head> <body class="page-container baseline-grid js-baseline-grid js-ie-warn"> <div class="old-ie-warning"> <img alt="Fragaria s.r.o." src="/assets/img/strawberry.svg"> <h1>Fragaria.cz</h1> <p>We are an <b>agile-thinking</b> company. Following the philosophy, we've decided not to support <b>Internet Explorer</b>. It's just not worth the effort. Since you're using it, you might experience various issues with the site.</p> <p>To see our website in it's full glance, we suggest using <a href="https://www.microsoft.com/en-us/windows/microsoft-edge">Microsoft Edge</a>, <a href="https://www.google.com/chrome/">Google Chrome</a>, <a href="https://www.opera.com/download">Opera</a> or <a href="https://www.mozilla.org/en-US/firefox/new/">Mozilla Firefox</a>.</p> <p><strong>Thanks for your understanding</strong>.</p> <span class="button js-ie-warn__dismiss" role="button">Dismiss</span> </div> <nav id="js-sitenav" class="sitenav js-sitenav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"> <div class="sitenav__container"> <div class="content-block content-block__cover--mobile"> <div class="sitenav__menu js-sitenav-menu"> <a href="/" class="sitenav__company typeset__anchor--nounderline" itemprop="url"><span itemprop="name">Fragaria</span></a> <a class="sitenav__brand" href="/"> <img alt="Fragaria s.r.o." src="/assets/img/strawberry.svg"> </a> <button class="sitenav__menutoggle hamburger hamburger--collapse js-sitenav-menu__toggle" type="button" aria-label="Menu" aria-controls="js-sitenav" aria-expanded="false"> <span class="hamburger-box"> <span class="hamburger-inner"></span> </span> </button> </div> <ul class="sitenav__linkset"> <li class="sitenav__linkset-item js-sitenav__link"><a href="/#projects" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Projects</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/how-we-work/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">How we work</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/blog/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Blog</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/work-with-us/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Work with us</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/#get-in-touch" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Contact</span></a></li> </ul> </div> </div> </nav> <div class="page-container__inner sitenav-wrapper"> <div class="sitenav-wrapper__push"> <article itemtype="https://schema.org/TechArticle" itemscope class="article" lang="cs"> <div class="content-block typeset"> <h1 itemprop="name" class="article__headline">Jak se vyrábí aplikace na chytré hodinky Pebble Time Round</h1> <meta itemprop="headline" content="Jak se vyrábí aplikace na chytré hodinky Pebble Time Round"> <div itemprop="publisher" itemtype="http://schema.org/Organization" class="hidden" itemscope> <div itemprop="logo" itemtype="http://schema.org/ImageObject" itemscope=""> <meta itemprop="url" content="https://fragaria.cz/assets/img/strawberry.svg"> </div> <meta itemprop="name" content="Fragaria s.r.o."> </div> <p class="article__meta"> <meta itemprop="datePublished" content=""/> <span class="article__pubdate">January 22, 2016</span> <span itemprop="author" itemtype="http://schema.org/Person" itemscope="" class="article__author"> by <span itemprop="name">Jirka Chadima</span> </span> <meta itemprop="publisher"></meta> </p> <div class="article__content-wrap"> <div class="article__content article-typeset js-auto-add-headline-anchors hypenize"> <p>Když se v dubnu 2012 na Kickstarteru objevily hodinky <a href="https://www.pebble.com/">Pebble</a> s e-ink displayem, za měsíc získaly částku přesahující deset milionů dolarů. Na jaře 2013 jste si o ně s námi mohli <a href="http://www.fragaria.cz/o-nas/tiskove-zpravy/2013/5/2/soutez-o-hodinky-pebble/">zasoutěžit</a>.</p> <p>Dnes si ukážeme, jak se pro Pebble vyvíjí. Nebude to sice vítězný <a href="http://www.fragaria.cz/soutez/">Připomínač léků</a>, ale částečně se přiblížíme jednomu z finalistů, Navigaci na zápěstí.</p> <p>Místo původního soutěžního modelu se podíváme na nejnovější kousek, Pebble Time Round, který se poměrně v tichosti objevil v září letošního roku. Co nabízí? 64barevný kulatý e-ink display, integraci s Androidem i iOS, při váze necelých 30 gramů výdrž pohodově přesahující 50 hodin, 4 tlačítka a pár senzorů. A taky <a href="https://apps.getpebble.com/en_US/application/55431083b7d4a71c0000003b?section=watchfaces">Maria</a>, <a href="https://apps.getpebble.com/en_US/application/55566afbef1c155748000039?section=watchfaces">Nyan Cat</a> nebo třeba <a href="https://apps.getpebble.com/en_US/application/565510b84431a2820600000c?&amp;section=watchfaces">Hollyho</a>.</p> <div class="inline-figure-container"> <figure class="figure content-block__cover--mobile "> <img src="https://res.cloudinary.com/fragaria/image/upload/f_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__1.gif" srcset="" class="figure__image js-fix-baseline"/> </figure> <figure class="figure content-block__cover--mobile "> <img src="https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto,dpr_2.0/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg" srcset="https://res.cloudinary.com/fragaria/image/upload/w_480,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 480w, https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 640w, https://res.cloudinary.com/fragaria/image/upload/w_1290,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 1290w, https://res.cloudinary.com/fragaria/image/upload/w_1920,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 1920w, https://res.cloudinary.com/fragaria/image/upload/w_1120,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 1120w, https://res.cloudinary.com/fragaria/image/upload/w_2240,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__2.jpg 2240w," class="figure__image js-fix-baseline"/> </figure> <figure class="figure content-block__cover--mobile "> <img src="https://res.cloudinary.com/fragaria/image/upload/f_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__3.gif" srcset="" class="figure__image js-fix-baseline"/> </figure> </div> <p>Pro vývojáře je k dispozici kombinované SDK v C a Javascriptu. Co z principu nezvládnou hodinky totiž Pebble outsourcuje do telefonu, kde běží JS engine s přístupem třeba k internetu nebo geolokaci. Nad SDK existuje i <a href="https://github.com/pebble/pebblejs">wrapper kompletně v Javascriptu</a>, který je ale trochu pozadu a Time Round k mému velkému zklamání <a href="https://github.com/pebble/pebblejs/issues/116">zatím ještě nepodporuje</a>.</p> <p>Kromě lokální instalace se dá tvořit i v <a href="https://cloudpebble.net/">cloudovém editoru</a>, jenže to je samozřejmě málo hardcore, takže využijeme <a href="https://developer.getpebble.com/sdk/install">dodávaného toolu v Pythonu</a>, který nám kromě SDK nainstaluje i užitečné blbiny jako emulátor prostředí hodinek, webový emulátor senzorů nebo nástroj na deployment přímo do fyzického zařízení.</p> <p>A co si dnes uvaříme? Uplácáme si <a href="https://github.com/JirkaChadima/pebble-csas-nearest">primitivní aplikaci</a>, která nás nasměruje k nejbližšímu bankomatu České spořitelny. Budeme potřebovat:</p> <ul> <li>Data z ČS <a href="https://developers.csas.cz/html/devs/poi.html">WebAPI Places</a>,</li> <li>komunikaci mezi C a JS částí aplikace,</li> <li>kreslení grafických primitiv,</li> <li>magnetický kompas z hodinek,</li> <li>geolokaci v mobilu,</li> <li>internet v mobilu.</li> </ul> <p>Celá aplikace bude nakonec vypadat jako na následujícím obrázku. Při spuštění zjístíme aktuální polohu, získáme nejbližší bankomat, spočítáme jeho vzdálenost a po naběhnutí magnetometrického kompasu zobrazíme šipku ve správném směru. Ideálně by se pak šipka a počet metrů měly v čase měnit podle toho, jak se k bankomatu přibližujeme.</p> <figure class="figure content-block__cover--mobile "> <img src="https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto,dpr_2.0/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg" srcset="https://res.cloudinary.com/fragaria/image/upload/w_480,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 480w, https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 640w, https://res.cloudinary.com/fragaria/image/upload/w_1290,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 1290w, https://res.cloudinary.com/fragaria/image/upload/w_1920,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 1920w, https://res.cloudinary.com/fragaria/image/upload/w_1120,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 1120w, https://res.cloudinary.com/fragaria/image/upload/w_2240,c_limit,f_auto,q_auto/fragaria.cz/posts/2016-01-22-jak-se-vyrabi-aplikace-na-chytre__4.jpg 2240w," class="figure__image js-fix-baseline"/> </figure> <p>Začneme tím, že potřebujeme data nějak zobrazovat. Pebble pracuje s konceptem oken (obrazovek) a vrstev různého typu. Aby aplikace nebyla moc složitá, rozhodl jsem se použít jenom jedno okno a a v něm textovou vrstvu pro každou řádku informací a jednu vrstvu navíc pro šipku ukazující směr k bankomatu. Pokud (zatím) nejsou k dispozici žádné informace, zobrazuje se pouze nápis <em>Loading…</em></p> <p>Všechna data kromě směru šipky budeme do hodinek pushovat z JS části aplikace v telefonu. Triggerem pro získání dat v telefonu bude buď spuštění aplikace, nebo timer, který bude data požadovat každou minutu. Při každém vrácení dat se pak na hodinkách překreslí celé view. Nezávisle na JS části aplikace se bude překreslovat navigační šipka.</p> <p>JS z telefonu si s C aplikací v hodinkách povídá pomocí jednoduchého obousměrného protokolu zpráv. Množina zpráv je definovaná v <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/appinfo.json#L15">konfiguračním souboru</a>, a na <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/js/pebble-js-app.js#L73">obou</a> <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/message_callbacks.c#L21">koncích</a> aplikace je pak zadrátované chování pro jednotlivé zprávy. JS tak obsahuje následující kód pro zjištění nejbližšího bankomatu, <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/js/pebble-js-app.js#L13-L38">dopočítání azimutu</a> a poslání dat do hodinek. Stejná funkce se volá na obě události definované v hodinkách, a to jsou spuštění aplikace a pravidelná žádost o refresh dat.</p> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">xhrRequest</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://api.csas.cz/sandbox/webapi/api/v2/places?radius=500&amp;country=CZ&amp;types=ATM&amp;limit=1&amp;lat=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">&amp;lng=</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">GET</span><span class="dl">'</span><span class="p">,</span>
    <span class="dl">'</span><span class="s1">7f29f5d5-c9d4-4266-8e6b-3733064da14x</span><span class="dl">'</span><span class="p">,</span>
    <span class="kd">function</span> <span class="p">(</span><span class="nx">status</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">{};</span>
        <span class="kd">var</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">items</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
        <span class="nx">response</span> <span class="o">=</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">KEY_DISTANCE</span><span class="dl">'</span><span class="p">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">distance</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">KEY_DIRECTION</span><span class="dl">'</span><span class="p">:</span> <span class="nx">computeBearing</span><span class="p">(</span><span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">,</span> <span class="p">{</span> <span class="c1">// computes azimuth</span>
                <span class="na">latitude</span><span class="p">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">lat</span><span class="p">,</span>
                <span class="na">longitude</span><span class="p">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">lng</span>
            <span class="p">}),</span>
            <span class="dl">'</span><span class="s1">KEY_ADDRESS</span><span class="dl">'</span><span class="p">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">address</span> <span class="o">+</span> <span class="dl">'</span><span class="se">\n</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">json</span><span class="p">.</span><span class="nx">city</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">KEY_ACCESS_TYPE</span><span class="dl">'</span><span class="p">:</span> <span class="nx">json</span><span class="p">.</span><span class="nx">accessType</span>
        <span class="p">};</span>
        <span class="nx">Pebble</span><span class="p">.</span><span class="nx">sendAppMessage</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span> <span class="c1">// send data to Pebble</span>
    <span class="p">});</span>
<span class="p">});</span></code></pre></figure> <p>V hodinkách potom zaslaná událost vyvolá <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/ui.c#L54-L64">překreslení</a> kompletního UI a zobrazí získaná data na display.</p> <figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="k">static</span> <span class="kt">void</span> <span class="nf">detail_window_set_place</span><span class="p">(</span><span class="n">Place</span> <span class="n">place</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">detail_window</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">detail_window</span> <span class="o">=</span> <span class="n">detail_window_init</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="n">text_layer_set_text</span><span class="p">(</span><span class="n">address_layer</span><span class="p">,</span> <span class="n">place</span><span class="p">.</span><span class="n">address</span><span class="p">);</span>
    <span class="n">snprintf</span><span class="p">(</span><span class="n">distance_buffer</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">distance_buffer</span><span class="p">),</span> <span class="s">"%d m"</span><span class="p">,</span> <span class="n">place</span><span class="p">.</span><span class="n">distance</span><span class="p">);</span>
    <span class="n">place_direction</span> <span class="o">=</span> <span class="n">place</span><span class="p">.</span><span class="n">direction</span><span class="p">;</span>
    <span class="n">text_layer_set_text</span><span class="p">(</span><span class="n">distance_layer</span><span class="p">,</span> <span class="n">distance_buffer</span><span class="p">);</span>
    <span class="n">text_layer_set_text</span><span class="p">(</span><span class="n">hours_layer</span><span class="p">,</span> <span class="n">place</span><span class="p">.</span><span class="n">hours</span><span class="p">);</span>
    <span class="n">write_direction_to_ui</span><span class="p">();</span> <span class="c1">// computes orientation of arrow</span>
<span class="p">}</span></code></pre></figure> <p>Ale jak namalovat šipku? A jak s ní točit podle aktuálního směru k bankomatu? Pebble nabízí přímé kreslení polygonů pomocí definice <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/layers.c#L4">jednotlivých vrcholů</a>. Na definovaný obrys se pak dá aplikovat rotace podle zvoleného úhlu, nadefinuje se barva výplně a můžeme kreslit. Aktuální natočení šipky pak spočítáme podle předpočítaného azimutu k bankomatu (KEY_DIRECTION) a aktuálního nasměrování hodinek. Překreslení šipky bude vyvoláno i změnou nasměrování hodinek ze <a href="https://github.com/JirkaChadima/pebble-csas-nearest/blob/master/src/compass.c#L14">služby poslouchající události</a> vyvolané <a href="https://developer.getpebble.com/guides/pebble-apps/sensors/magnetometer/">magnetometrem</a> v hodnikách, který jde při vývoji <a href="https://developer.getpebble.com/guides/publishing-tools/pebble-tool/#emu-control">simulovat z browseru</a>.</p> <p>No, a to je všechno, teď by aplikace měla fungovat a měla by se chovat tak, jak chceme. Můžeme jí pomocí <a href="https://developer.getpebble.com/guides/publishing-tools/developer-connection/">vývojářského spojení</a>nahrát do fyzických hodinek, nebo jí vypublikovat do <a href="https://apps.getpebble.com/en_US/application/56818e4e94ffb216e400001f">Pebble store</a>. Podle statistik jsem zatím získal velmi pěkná 3 stažení.</p> <p>Jak ale doopravdy funguje? Po několika dnech pokusů a testování v reálném provozu musím říct, že dvakrát spolehlivě se to nechová… Jako nejproblematičtější se jeví komunikace s GPS v telefonu, která s Androidem spíš nefunguje než funguje, nicméně s iOS je to trochu lepší. Taky se mi nepovedlo aplikaci vnutit nějakou hezkou ikonku.</p> <p>Dalším omezením je relativní roztříštěnost platformy. Ačkoliv jde teprve o pátý model značky, jedná se už o třetí kompletní iteraci vnitřní platformy a sjednocování jde poměrně pomalu. Tím pak samozřejmě trpí i dokumentace a okolní nástroje, zejména pak zmiňovaný JS wrapper. S jeho pomocí je vývoj na všechny platformy výrazně jednodušší a přímočařejší. Pokud bychom chtěli aplikaci naportovat na starší modely, musí se ručně zoptimalizovat celá řada drobností, a to je prostě nuda.</p> <p>Dává tedy smysl se nyní zabývat hodinkami Pebble, potažmo jakýmikoliv jinými chytrými hodinkami? <strong>Podle mého názoru to má ještě čas.</strong></p> <p>I na stavu a stabilitě vývojářských nástrojů je hrozně vidět, že se jedná o velmi mladou oblast, která vlastně ještě hledá, k čemu by mohla být lidstvu užitečná. Očekává se, že v polovině roku představí Apple novou verzi svých Apple Watch a já se vsadím, že budou z velké části nekompatibilní s těmi původními. Zatím jedinou extrémně přínosnou funkcí je to, že při každé notifikaci nemusíte tahat telefon z kapsy.</p> </div> </div> </div> <div class="content-block"> <div class="article__misc"> <div class="article__miscitem"> <div class="taglist " itemscope itemtype="http://schema.org/WebPage"> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/pebble/" itemprop="relatedLink">pebble, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/javascript/" itemprop="relatedLink">javascript, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/smartwatch/" itemprop="relatedLink">smartwatch, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/c/" itemprop="relatedLink">c</a> </div> </div> <div class="article__miscitem"> <div class="sharebox"> <ul class="sharebox__items"> <li class="sharebox__item sharebox__item--twitter"> <a class="sharebox__item-body" href="https://twitter.com/intent/tweet?text=Jak se vyrábí aplikace na chytré hodinky Pebble Time Round&url=https://fragaria.cz/blog/2016/01/22/jak-se-vyrabi-aplikace-na-chytre/&via=&related=" target="_blank" rel="noopener" title="Share on Twitter"><span>Share on Twitter</span></a> </li> <li class="sharebox__item sharebox__item--facebook"> <a class="sharebox__item-body" href="https://facebook.com/sharer.php?u=https://fragaria.cz/blog/2016/01/22/jak-se-vyrabi-aplikace-na-chytre/" target="_blank" rel="noopener" title="Share on Facebook"><span>Share on Facebook</span></a> </li> </ul> </div> </div> </div> </div> </article> <footer class="content-block"> <div class="footer"> <div class="footer__meta"> <a href="/"> <img alt="Fragaria s.r.o." class="footer__brand" src="/assets/img/strawberry.svg"> </a> <div class="footer__copy"> <div class="footer__copy-line footer__copy-line--emphasized">FRAGARIA &copy; 2022</div> <div class="footer__copy-line">Talk is cheap, show me the code.</div> </div> </div> <div class="footer__social"> <a href="https://www.youtube.com/channel/UCz1zwJ9_6-IVdX6oCvq6T_g" class="icon--youtube footer__social-icon" title="Youtube channel"></a> <a href="https://twitter.com/fragariacz" class="icon--twitter footer__social-icon" title="Twitter profile page"></a> <a href="https://linkedin.com/company/fragaria-ltd" class="icon--linkedin footer__social-icon" title="LinkedIn profile page"></a> <a href="https://github.com/fragaria" class="icon--github footer__social-icon" title="GitHub profile page"></a> <a href="https://stackshare.io/fragaria" class="icon--stackshare footer__social-icon" title="Stackshare profile page"></a> </div> </div> </footer> </div> </div> <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script> <script src="/assets/js/smoothscroll.js"></script> <script src="/assets/js/element-closest.js"></script> <script src="/assets/js/site.js?6e2137191b6cdb94029cb72a903c511c"></script> <script type="text/javascript" src="/assets/js/register-sw.js"></script> </body> </html>