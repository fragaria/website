<!DOCTYPE html> <html lang="en" dir="ltr" itemtype="http://schema.org/WebPage" itemscope=""> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> <meta name="HandheldFriendly" content="true"/> <title>Jak vyhrát Prostřeno? | Fragaria.cz</title> <meta name="author" content="Fragaria s.r.o."/> <meta name="robots" content="index,follow"/> <meta name="description" content="Jak uspět v populární soutěži? Analýza dat s použitím Elasticsearch ukazuje, že uspějete s českou klasikou: domácí hovězí vývar s nudlemi, kuře s bramborem a koláč. Ale taky se hodí někoho milovat, jmenovat se Lucie a hrát hokej. Jak jsem na to přišel?"> <meta name="keywords" content="software, software development, web apps, vývoj software, webové aplikace, python, javascript, typescript, java, angular, vue, elasticsearch, html, css, npm, elasticsearch, nodejs, prostreno"/> <meta property="og:url" content="https://fragaria.cz/blog/2015/03/05/jak-vyhrat-prostreno/"/> <meta property="og:type" content="website"/> <meta property="og:title" content="Jak vyhrát Prostřeno? | Fragaria.cz"/> <meta property="og:description" content="Jak uspět v populární soutěži? Analýza dat s použitím Elasticsearch ukazuje, že uspějete s českou klasikou: domácí hovězí vývar s nudlemi, kuře s bramborem a koláč. Ale taky se hodí někoho milovat, jmenovat se Lucie a hrát hokej. Jak jsem na to přišel?"/> <meta property="og:image" content="https://res.cloudinary.com/fragaria/image/upload/w_640,c_fit,f_jpg,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png"/> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"> <link rel="manifest" href="/assets/favicons/site.webmanifest"> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#ea272e"> <link rel="shortcut icon" href="/favicon.ico"> <meta name="msapplication-TileColor" content="#ea272e"> <meta name="msapplication-config" content="/assets/favicons/browserconfig.xml"> <meta name="theme-color" content="#ea272e"> <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-9784905-1', 'auto');
    ga('send', 'pageview');
</script> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/AndulkaTextPro.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/AndulkaTextPro-Italic.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="https://res.cloudinary.com/fragaria/raw/upload/v1534234755/fragaria.cz/fonts/TriviaGroteskN2-Bold.woff" as="font" type="font/woff" crossorigin> <link rel="preload" href="/assets/fonts/fragariacz-icons.ttf?3rxsze" as="font" type="font/ttf" crossorigin="anonymous"> <link rel="preload" href="/assets/js/site.js?fefed86871033f8f71fee69716995b15" as="script"> <link rel="stylesheet" href="/assets/styles.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="alternate" type="application/atom+xml" href="/feed.xml" title="Blog | Fragaria.cz"/> <link rel="self" type="application/atom+xml" href="/feed.xml"/> <link rel="preload" href="https://fonts.googleapis.com/css?family=Source+Code+Pro" as="style"> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"/> </head> <body class="page-container baseline-grid js-baseline-grid js-ie-warn"> <div class="old-ie-warning"> <img alt="Fragaria s.r.o." src="/assets/img/strawberry.svg"> <h1>Fragaria.cz</h1> <p>We are an <b>agile-thinking</b> company. Following the philosophy, we've decided not to support <b>Internet Explorer</b>. It's just not worth the effort. Since you're using it, you might experience various issues with the site.</p> <p>To see our website in it's full glance, we suggest using <a href="https://www.microsoft.com/en-us/windows/microsoft-edge">Microsoft Edge</a>, <a href="https://www.google.com/chrome/">Google Chrome</a>, <a href="https://www.opera.com/download">Opera</a> or <a href="https://www.mozilla.org/en-US/firefox/new/">Mozilla Firefox</a>.</p> <p><strong>Thanks for your understanding</strong>.</p> <span class="button js-ie-warn__dismiss" role="button">Dismiss</span> </div> <nav id="js-sitenav" class="sitenav js-sitenav" role="navigation" itemscope itemtype="http://schema.org/SiteNavigationElement"> <div class="sitenav__container"> <div class="content-block content-block__cover--mobile"> <div class="sitenav__menu js-sitenav-menu"> <a href="/" class="sitenav__company typeset__anchor--nounderline" itemprop="url"><span itemprop="name">Fragaria</span></a> <a class="sitenav__brand" href="/"> <img alt="Fragaria s.r.o." src="/assets/img/strawberry.svg"> </a> <button class="sitenav__menutoggle hamburger hamburger--collapse js-sitenav-menu__toggle" type="button" aria-label="Menu" aria-controls="js-sitenav" aria-expanded="false"> <span class="hamburger-box"> <span class="hamburger-inner"></span> </span> </button> </div> <ul class="sitenav__linkset"> <li class="sitenav__linkset-item js-sitenav__link"><a href="/#projects" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Projects</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/how-we-work/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">How we work</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/blog/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Blog</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/work-with-us/" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Work with us</span></a></li> <li class="sitenav__linkset-item js-sitenav__link"><a href="/#get-in-touch" class="sitenav__link typeset__anchor--nounderline js-sitenav-menu__anchor" itemprop="url"><span itemprop="name">Contact</span></a></li> </ul> </div> </div> </nav> <div class="page-container__inner sitenav-wrapper"> <div class="sitenav-wrapper__push"> <article itemtype="https://schema.org/TechArticle" itemscope class="article" lang="cs"> <div class="content-block typeset"> <h1 itemprop="name" class="article__headline">Jak vyhrát Prostřeno?</h1> <meta itemprop="headline" content="Jak vyhrát Prostřeno?"> <div itemprop="publisher" itemtype="http://schema.org/Organization" class="hidden" itemscope> <div itemprop="logo" itemtype="http://schema.org/ImageObject" itemscope=""> <meta itemprop="url" content="https://fragaria.cz/assets/img/strawberry.svg"> </div> <meta itemprop="name" content="Fragaria s.r.o."> </div> <p class="article__meta"> <meta itemprop="datePublished" content=""/> <span class="article__pubdate">March 05, 2015</span> <span itemprop="author" itemtype="http://schema.org/Person" itemscope="" class="article__author"> by <span itemprop="name">Lukáš Marek</span> </span> <meta itemprop="publisher"></meta> </p> <div class="article__content-wrap"> <div class="article__content article-typeset js-auto-add-headline-anchors hypenize"> <p>Jak uspět v populární soutěži? Analýza dat s použitím Elasticsearch ukazuje, že uspějete s českou klasikou: <strong>domácí hovězí vývar s nudlemi, kuře s bramborem a koláč</strong>. Ale taky se hodí někoho <strong>milovat</strong>, jmenovat se <strong>Lucie</strong> a hrát <strong>hokej</strong>. Jak jsem na to přišel?</p> <p>Moje drahá polovička je velká fanynka pořadu Prostřeno. Dost často se tak vrátím z práce domů a z obýváku zrovna nadšeně hýká Vašek Vydra. Pro neznalé – <a href="http://www.iprima.cz/prostreno/o-poradu">Prostřeno</a> je pořad televize Prima, ve kterém:</p> <blockquote> <p>„Pětice amatérských kuchařů, milovníků dobrého jídla a pití, během jednoho týdne postupně předvede, jak si představuje perfektní večeři včetně zábavy pro hosty, kteří se dříve neznali.“</p> </blockquote> <p>Při nedobrovolném sledování mě napadlo, jestli existuje něco jako <strong>ideální menu</strong> – tedy zda <em>lze sestavit večeři s velkou pravděpodobností výhry?</em> Show běží už pět let a po celou tu dobu udržuje webové stránky, na kterých lze nalézt recepty jednotlivých účastníků. To už je spousta dat, ze kterých se dá ledacos vyčíst. Nejdřív ovšem ta data musíme dostat do použitelné podoby. Prima bohužel neposkytuje API (proč taky), takže to je třeba zrobit ručně.</p> <h3 id="příprava">Příprava</h3> <p>Než se pustíme do samotného programování, je potřeba se podívat, jak stránky Prostřeno vůbec vypadají. Začneme na <a href="http://www.iprima.cz/prostreno/soutezici?day=1267448067">stránce s nejstarším vysíláním</a>.</p> <figure class="figure content-block__cover--mobile "> <img src="https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto,dpr_2.0/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png" srcset="https://res.cloudinary.com/fragaria/image/upload/w_480,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 480w, https://res.cloudinary.com/fragaria/image/upload/w_640,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 640w, https://res.cloudinary.com/fragaria/image/upload/w_1290,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 1290w, https://res.cloudinary.com/fragaria/image/upload/w_1920,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 1920w, https://res.cloudinary.com/fragaria/image/upload/w_1120,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 1120w, https://res.cloudinary.com/fragaria/image/upload/w_2240,c_limit,f_auto,q_auto/fragaria.cz/posts/2015-03-05-jak-vyhrat-prostreno__1.png 2240w," class="figure__image js-fix-baseline"/> </figure> <p>Vidíme pět soutěžících, z nichž František je označen korunkou – vítěz kola. Je poznat, že stránky dělal někdo zodpovědný – obrázek každého účastníka je obalen v <code class="highlighter-rouge">div</code>u s třídou <code class="highlighter-rouge">prostreno-contestant</code>. Vítěz má ještě navíc třídu <code class="highlighter-rouge">tvwinner</code>. S tím už se dá pracovat.</p> <h3 id="sbíráme-data">Sbíráme data</h3> <p>Pro sběr dat jsem si připravil jednoduchý skript v NodeJS, který, který načte data ze stránek Primy a uloží je ve formátu JSON do databáze Elasticsearch. Formát uložených dat je následující:</p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"predkrm"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kuřecí salát v broskvi"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"hlavni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Candát s mandlovou nádivkou a šťouchané brambory"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"zakusek"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Líná hospodyňka"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jiri-mueller"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"winner"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"desc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"</span><span class="se">\n</span><span class="s2">       Je ženatý, má čtyři děti ... atd."</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <p>Nebudu se tady pouštět do detailů a případného zájemce odkážu na <a href="https://gist.github.com/krtek/a3d9d68081ec629a5a16">kompletní zdrojové kódy</a>.</p> <h3 id="agregujeme-data">Agregujeme data</h3> <p>Data se mi úspěšně podařilo nacpat do Elasticsearch, který mám nastavený podle <a href="http://blog.fragaria.cz/2014/11/fulltext-cesky-pomoci-djanga.html">Filipova návodu</a> tak, aby uměl pracoval s češtinou. Teď nastává ta nejzábavnější část – analýza dat. Elasticsearch poskytuje mocné API pro <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations.html">agregace dat</a>. Pojďme si pro začátek zjistit nejčastější vítězné polévky. Dotaz do Elasticsearch bude vypadat následovně:</p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">winner:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"polevka"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polevka"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <p>a odpověď Elasticsearch serveru bude:</p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"polevka"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"doc_count_error_upper_bound"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nl">"sum_other_doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">276</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buckets"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polevka"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">69</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"vyvar"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nudle"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hovezi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kremova"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="err">}</span></code></pre></figure> <p>Nejčastějším slovem mezi vítěznými polévkami je překvapivě <strong>polévka</strong>. To se dalo čekat. Ale hned na dalších místech je <strong>vývar</strong>, <strong>nudle</strong> a <strong>hovězí</strong>. Už tušíte, co se vyplatí vařit? Můžeme se zkusit jiný dotaz. Elasticsearch nově podporuje tzv. <a href="http://www.elasticsearch.org/blog/significant-terms-aggregation/">agregaci podstatných výrazů</a>. Pod tímhle šíleným pojmem se skrývá užitečná pomůcka. Dokáže zjistit, jaká slova se <strong>vyskytují mezi vítěznými polévkami</strong> a naopak <strong>nejsou mezi ostatními</strong>. Příklad? Tady je:</p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="nl">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="err">winner:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"polevka_odchylky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"terms"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"polevka"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span></code></pre></figure> <p>a odpověď?</p> <figure class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
  </span><span class="nl">"aggregations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"polevka_odchylky"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">245</span><span class="p">,</span><span class="w">
      </span><span class="nl">"buckets"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"domacim"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.05084548104956269</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kremova"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.037570060094008456</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">49</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cibulova"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.037411078717201174</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"celestynskymi"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.026239067055393583</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spenatova"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"doc_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.025539358600583092</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bg_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
      </span><span class="p">}</span><span class="err">...</span><span class="w">
      </span><span class="p">]</span></code></pre></figure> <p>Tady je vidět, že z celkem 4 polévek označených jako <strong>domácí</strong> všechny vyhrály. <strong>Cibulové</strong> polévky mají taky slušné skóre: čtyři z pěti. Pokud neumíte cibulačku, vyplatí se zkusit polévku <strong>krémovou</strong>, <strong>špenátovou</strong> nebo aspoň nasypat do polévky <strong>celestýnské</strong> nudle. Dá se zkusit i obrácený dotaz. Která polévka je téměr zárukou prohry? Zkuste si dotaz sami (hint <code class="highlighter-rouge">match {winner: false}</code>) a zjistíte, že s <strong>zelňačkou</strong> nebo <strong>dýňovou</strong> polévkou se ani nemá smysl dělat. A rozhodně do ní nesypejte <strong>krutony!</strong></p> <h3 id="má-vůbec-smysl-se-hlásit">Má vůbec smysl se hlásit?</h3> <p>Překvapivě zajímavé výsledky dává analýza textu, kterým se soutěžící prezentují. Typická výherkyně (Ano, výherkyně. Dam soutěží celkově víc, ale muži mají o trochu větší šanci na výhru). Takže typická výherkyně se používá v popisu jako <strong>ráda</strong>, <strong>vaření</strong>, <strong>vztah</strong> a <strong>rodina</strong>. A jmenuje se <strong>Lucie</strong> – 7 z 9 Lucií vyhrálo. Oproti tomu typická nevýherkyně <strong>žije</strong>, <strong>sama</strong> a zmiňuje <strong>peníze</strong>. Zajímavé, co? Pokud se navíc zmíní, že je <strong>rozvedená</strong>, tak už ani nemusí zapínat sporák (36 z 38 nevyhrálo).</p> <h3 id="takže-jaké-menu">Takže jaké menu?</h3> <p>Nejčastější vítězné menu vypadá nějak takhle:</p> <ul> <li><strong>Kuřecí salát</strong></li> <li><strong>Hovězí vývar</strong></li> <li><strong>Kuře s bramborem</strong></li> <li><strong>Koláč</strong></li> </ul> <p>Ale černým koněm soutěže bude následují menu:</p> <ul> <li><strong>Pancetta</strong> (nebo salát s rajčátky)</li> <li><strong>Domácí cibulová polévka</strong> (pozor na to domácí!)</li> <li><strong>Marinovaná vepřová pečeně s bramborem</strong></li> <li><strong>Čokoládové sufflé</strong> (nebo palačinka nebo medovník)</li> </ul> <p>Proč? Agregace podstatných výrazů říká, že když se jakékoliv z těchto jídel objevilo v soutěži, tak bylo součástí vítězného menu. Navíc se hodí být <strong>muž</strong>, jmenovat se <strong>Lucie</strong> a mít v oblibě <strong>hokej</strong>.</p> <p>A taky trochu umět vařit.</p> </div> </div> </div> <div class="content-block"> <div class="article__misc"> <div class="article__miscitem"> <div class="taglist " itemscope itemtype="http://schema.org/WebPage"> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/npm/" itemprop="relatedLink">npm, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/elasticsearch/" itemprop="relatedLink">elasticsearch, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/nodejs/" itemprop="relatedLink">nodejs, </a> <a class="taglist__tag anchor anchor--emphasized" href="/blog/archive/tag/prostreno/" itemprop="relatedLink">prostreno</a> </div> </div> <div class="article__miscitem"> <div class="sharebox"> <ul class="sharebox__items"> <li class="sharebox__item sharebox__item--twitter"> <a class="sharebox__item-body" href="https://twitter.com/intent/tweet?text=Jak vyhrát Prostřeno?&url=https://fragaria.cz/blog/2015/03/05/jak-vyhrat-prostreno/&via=&related=" target="_blank" rel="noopener" title="Share on Twitter"><span>Share on Twitter</span></a> </li> <li class="sharebox__item sharebox__item--facebook"> <a class="sharebox__item-body" href="https://facebook.com/sharer.php?u=https://fragaria.cz/blog/2015/03/05/jak-vyhrat-prostreno/" target="_blank" rel="noopener" title="Share on Facebook"><span>Share on Facebook</span></a> </li> </ul> </div> </div> </div> </div> </article> <footer class="content-block"> <div class="footer"> <div class="footer__meta"> <a href="/"> <img alt="Fragaria s.r.o." class="footer__brand" src="/assets/img/strawberry.svg"> </a> <div class="footer__copy"> <div class="footer__copy-line footer__copy-line--emphasized">FRAGARIA &copy; 2023</div> <div class="footer__copy-line">Talk is cheap, show me the code.</div> </div> </div> <div class="footer__social"> <a href="https://www.youtube.com/channel/UCz1zwJ9_6-IVdX6oCvq6T_g" class="icon--youtube footer__social-icon" title="Youtube channel"></a> <a href="https://twitter.com/fragariacz" class="icon--twitter footer__social-icon" title="Twitter profile page"></a> <a href="https://linkedin.com/company/fragaria-ltd" class="icon--linkedin footer__social-icon" title="LinkedIn profile page"></a> <a href="https://github.com/fragaria" class="icon--github footer__social-icon" title="GitHub profile page"></a> <a href="https://stackshare.io/fragaria" class="icon--stackshare footer__social-icon" title="Stackshare profile page"></a> </div> </div> </footer> </div> </div> <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script> <script src="/assets/js/smoothscroll.js"></script> <script src="/assets/js/element-closest.js"></script> <script src="/assets/js/site.js?fefed86871033f8f71fee69716995b15"></script> <script type="text/javascript" src="/assets/js/register-sw.js"></script> </body> </html>